language: objective-c
osx_image: xcode9.2

xcode_project: BXSwiftUtils.xcodeproj

before_install:
- gem install xcpretty

env:
    global:
        - CODE_SIGN_IDENTITY=""
        - CODE_SIGNING_REQUIRED=NO
        - CODE_SIGN_ENTITLEMENTS=""
        - CODE_SIGNING_ALLOWED="NO"

matrix:
    include:
        - env: SCHEME="BXSwiftUtils-macOS" DESTINATION="platform=macOS,arch=x86_64"
        - env: SCHEME="BXSwiftUtils-iOS" DESTINATION="platform=iOS Simulator,name=iPhone X,OS=11.2"

script: set -o pipefail; xcodebuild -scheme "$SCHEME" -destination "$DESTINATION" build test | xcpretty
